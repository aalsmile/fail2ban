From bb0dc17a874a296dfc86bdabf5d2e8a113b87141 Mon Sep 17 00:00:00 2001
From: Yaroslav Halchenko <debian@onerussian.com>
Date: Mon, 7 Mar 2016 22:40:36 -0500
Subject: [PATCH] BF: use tests.utils.CONFIG_DIR instead of fixed one (Closes
 #1348)

---
 fail2ban/tests/fail2banregextestcase.py | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/fail2ban/tests/fail2banregextestcase.py b/fail2ban/tests/fail2banregextestcase.py
index 2fd362c..e4af50e 100644
--- a/fail2ban/tests/fail2banregextestcase.py
+++ b/fail2ban/tests/fail2banregextestcase.py
@@ -40,6 +40,7 @@ except ImportError:
 from ..client import fail2banregex
 from ..client.fail2banregex import Fail2banRegex, get_opt_parser, output
 from .utils import LogCaptureTestCase, logSys
+from .utils import CONFIG_DIR
 
 
 fail2banregex.logSys = logSys
@@ -48,8 +49,6 @@ def _test_output(*args):
 
 fail2banregex.output = _test_output
 
-CONF_FILES_DIR = os.path.abspath(
-	os.path.join(os.path.dirname(__file__),"..", "..", "config"))
 TEST_FILES_DIR = os.path.join(os.path.dirname(__file__), "files")
 
 
@@ -66,7 +65,7 @@ class Fail2banRegexTest(LogCaptureTestCase):
 	FILENAME_02 = os.path.join(TEST_FILES_DIR, "testcase02.log")
 	FILENAME_WRONGCHAR = os.path.join(TEST_FILES_DIR, "testcase-wrong-char.log")
 
-	FILTER_SSHD = os.path.join(CONF_FILES_DIR, 'filter.d', 'sshd.conf')
+	FILTER_SSHD = os.path.join(CONFIG_DIR, 'filter.d', 'sshd.conf')
 
 	def setUp(self):
 		"""Call before every test case."""
-- 
2.7.0

